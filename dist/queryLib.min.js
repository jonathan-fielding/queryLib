/*! queryLib | license: MIT | version: 0.0.1 | build date: 2013-09-18 */
!function(a){function b(a){return this.callback=a,this.properties=g,this.properties.links=e.getElementsByTagName("link"),this.init(),this}var c=a.document,d=c.documentElement,e=c.getElementsByTagName("head")[0]||d,f=c.getElementsByTagName("base")[0],g={requestQueue:[],rules:[],mediastyles:[],parsedSheets:{},links:null};b.prototype={init:function(){for(var b=0;b<this.properties.links.length;b++){var c=this.properties.links[b],d=c.href,e=c.media,g=c.rel&&"stylesheet"===c.rel.toLowerCase();d&&g&&!this.properties.parsedSheets[d]&&(c.styleSheet&&c.styleSheet.rawCssText?(this.translate(c.styleSheet.rawCssText,d,e),this.properties.parsedSheets[d]=!0):(!/^([a-zA-Z:]*\/\/)/.test(d)&&!f||d.replace(RegExp.$1,"").split("/")[0]===a.location.host)&&this.properties.requestQueue.push({href:d,media:e}))}this.makeRequests()},makeRequests:function(){var b=this;if(this.properties.requestQueue.length){var c=this.properties.requestQueue.shift();h(c.href,function(d){b.translate(d,c.href,c.media),b.properties.parsedSheets[c.href]=!0,a.setTimeout(function(){b.makeRequests()},0)})}},translate:function(a,b,c){var d=a.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),e=d&&d.length||0;b=b.substring(0,b.lastIndexOf("/"));var f=function(a){return a.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+b+"$2$3")},g=!e&&c;b.length&&(b+="/"),g&&(e=1);for(var h=0;e>h;h++){var i,j,k,l;g?(i=c,this.properties.rules.push(f(a))):(i=d[h].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,this.properties.rules.push(RegExp.$2&&f(RegExp.$2))),k=i.split(","),l=k.length;for(var m=0;l>m;m++)j=k[m],this.properties.mediastyles.push({media:j.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rulesCount:this.properties.rules.length-1,rules:this.properties.rules[h],hasquery:j.indexOf("(")>-1,minw:j.match(/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:j.match(/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}this.callback(this.properties.mediastyles)}};var h=function(a,b){var c=i();c&&(c.open("GET",a,!0),c.onreadystatechange=function(){4!==c.readyState||200!==c.status&&304!==c.status||b(c.responseText)},4!==c.readyState&&c.send(null))},i=function(){var b=!1;try{b=new a.XMLHttpRequest}catch(c){b=new a.ActiveXObject("Microsoft.XMLHTTP")}return function(){return b}}();a.queryLib=function(c){var d=new b(c);a.queryLib.cached=d.properties.mediastyles}}(window,document);